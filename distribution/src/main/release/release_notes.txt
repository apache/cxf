Apache CXF 2.1.9 Release Notes

1. Overview

Apache CXF 2.1.9 delivers the latest set of patches and bug fixes for the Apache
CXF 2.1.x branch.   This release fixes 29 JIRA issues that have been reported by 
users.

IMPORTANT NOTE:  2.1.9 is the last scheduled release for the 2.1.x series of 
Apache CXF.   Users are VERY strongly encouraged to upgrade to the 2.2.x 
series as soon as possible.



2. Installation Prerequisites 

Before installing Apache CXF, make sure the following products,
with the specified versions, are installed on your system:

    * Java 5 Development Kit
    * Apache ant 1.6

2.1 Java 5 Development Kit

You must install the J2SE Development Kit (JDK) 5.0 or 6, which can be downloaded
from:

    http://java.sun.com/j2se/1.5.0/download.jsp

After installing the JDK, set or modify the following environment variables:

    * JAVA_HOME -- set this environment variable
      to point at the root directory of the JDK 5.0 installation.

    * PATH -- make sure that your PATH includes: 
      %JAVA_HOME%\bin  (Windows) 
      $JAVA_HOME/bin   (UNIX)

2.2 Apache Ant 1.6.5 (or newer, 1.7.0 should work as well)

To run samples included in the binary distribution of Apache CXF,
you must install the Apache Ant 1.6.5 build utility, which can be downloaded
from:

    http://ant.apache.org/bindownload.cgi

After installing Apache Ant, add the <AntInstallDir>/bin directory to your PATH.

For more details, see the Installation Guide.



3. Building the Samples

Building the samples included in the binary distribution is easy. Change to
the samples directory and follow the build instructions in the README.txt file 
included with each sample.

4. Errata

4.1 WS-Security
The WS-Security configuration mechanisms may change between this release and 
the next one as we add in support for WS-SecurityPolicy and WS-Trust.

5. Reporting Problems

If you have any problems or want to send feedback of any kind, please e-mail the
cxf dev list, cxf-dev@incubator.apache.org.  You can also file issues in JIRA at:

http://issues.apache.org/jira/browse/CXF


6. JAX-RS/JSR-311

2.1.2 upgraded the JAX-RS/JSR-311 support level to 0.8 from 0.6.   This may cause 
existing JAX-RS applications to fail.  JAX-RS/JSR-311 is a work in progress and as
the specification changes, we'll be updating the implementation to keep track with 
the specification.   However, users of JAX-RS are highly encouraged to migrate to 
CXF 2.2.2 or newer as the JAX-RS implementations there are fully JAX-RS 1.0 
compliant.


7. Specific issues, features, and improvements fixed in this version 


Release Notes - CXF - Version 2.1.9



** Bug
    * [CXF-685] - WS-RM: Inappropriate exception handling in RM Servant
    * [CXF-1818] - java2ws -createxsdimports with packages that reference other packages should have schemaLocation in schema import
    * [CXF-1886] - Disappearing types from @XmlRootElement and no particular namespace
    * [CXF-2035] - Issues with SOAPAction 
    * [CXF-2093] - CXF Compatiblity
    * [CXF-2150] - Web service provider using UsernameToken profile should throw an exception if SOAP client's password type <> web service provider's.
    * [CXF-2223] - Proxy authentication failure with SSL tunneling
    * [CXF-2376] - CXF Maven Plugin fails to read WSDL file from classpath or jar file
    * [CXF-2386] - abdera-extensions-main and abdera-i18n are required by cxf-bundle-minimal but not present in any repository
    * [CXF-2466] - CXF WS-RM impl displays exceptions
    * [CXF-2542] - DelegatingInputStream.close() causes MessageImpl.getContextualProperty throw NullPointerException
    * [CXF-2543] - CXF client processes bar() response message when making foo() request
    * [CXF-2545] - WS Addressing asynchronous transport and NullPointerException with Apache tomcat (threading problem ?) 
    * [CXF-2546] - NullPointerException when trying to find WS-Addressing Action
    * [CXF-2549] - Wrong classpath for dynamic client compilation in Weblogic
    * [CXF-2550] - transactions don't work in jaxws Endpoint  with jms transport
    * [CXF-2551] - NullPointerException 	at org.apache.cxf.transport.servlet.ServletController.updateDests(ServletController.java:92)
    * [CXF-2552] - CXF should use Spring's BeanFactory.isSingleton(name) instead of BeanDefinition.isSingleton() because any such checks break when using bean definition inheritance or bean definition post-processing
    * [CXF-2566] - Missing translation for INSTRUMENTATION_REGISTER_FAULT_MSG
    * [CXF-2568] - default values don't get quoted properly in generated Javascript
    * [CXF-2569] - Consuming a wsdl file which is having a nested complex types in xsd
    * [CXF-2571] - wsdl2java and jax-ws-catalog: failing to resolve schemas included with xsd:include in jar-file
    * [CXF-2577] - JMS IlegalStateException when attempting to use Spring SingleConnectionFactory retrieved from JNDI
    * [CXF-2581] - Improper toString of Arrays during logging
    * [CXF-2582] - wrapper InOuts not being generated per spec for single response part
    * [CXF-2587] - wsdl2java error when there are several nested wsdl:import 
    * [CXF-2591] - MAPCodec : memory leak with an async client with network issues (connection timeout, read timeout etc)
    * [CXF-2594] - No SOAP fault XML elements when a Fault is thrown in the output chain after SAAJOutInterceptor
    * [CXF-2601] - Faults generated with XMLBeans binding are not wrapped correctly
    * [CXF-2605] - Object argument is passed as null
    * [CXF-2609] - Schema validation failure when null system ID passed to LSResourceResolver.resolveResource()
    * [CXF-2616] - wsdl2java script doesn't put #!/bin/sh on the first line of the script
    * [CXF-2618] - secureSocketProtocol in TLSClientParams and TLSServerParams is not pushed into the SSLSocketFactory
    * [CXF-2619] - Deadlock when echoing MTOM attachments back to client
    * [CXF-2620] - CXFServlet fails to init with NPE at line 125 (updateContext) when run with embedded Jetty and Spring3 - works with Spring 2.5.6
    * [CXF-2623] - AttachmentDeserializer doesn't work when no boundary message in content type
    * [CXF-2624] - Classloader leakage in org.apache.cxf.common.util.ASMHelper.LOADER_MAP
    * [CXF-2625] - Class-loader leakage in org.apache.cxf.jaxb.JAXBDataBinding.JAXBCONTEXT_CACHE 

** Improvement
    * [CXF-2537] - Proposal : enhancement of HTTP exceptions messages
    * [CXF-2538] - Proposal : enhancement of PhaseInterceptorChain warning message
    * [CXF-2606] - ThreadGroup in the default workqueue gets prematurely destroyed
    * [CXF-2610] - Trim white spaces in logger class name

** New Feature
    * [CXF-2596] - Default logging in interceptor chain may pollute the log with stacktrace from application exceptions that are a part of the normal flow (should not be logged).










